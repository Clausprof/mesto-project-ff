(()=>{"use strict";var e=document.querySelector("#card-template").content,t=document.querySelector(".popup_type_edit"),n=document.querySelector(".popup_type_new-card"),r=document.querySelector(".popup__input_type_name"),o=document.querySelector(".popup__input_type_description");function c(t,n){var r=e.querySelector(".places__item").cloneNode(!0),o=r.querySelector(".card__image");o.addEventListener("click",(function(){var e,n,r,o,c;e=t.link,n=t.name,r=document.querySelector(".popup_type_image"),o=r.querySelector(".popup__image"),c=r.querySelector(".popup__caption"),o.src=e,o.alt=n,c.textContent=n,document.addEventListener("keydown",u),document.addEventListener("click",p),r.classList.add("popup_is-opened")}));var c=r.querySelector(".card__title");return o.src=t.link,o.alt=t.name,c.textContent=t.name,r.querySelector(".card__delete-button").addEventListener("click",(function(){n(r)})),r.querySelector(".card__like-button").addEventListener("click",(function(e){e.target.classList.toggle("card__like-button_is-active")})),r}function u(e){27===e.keyCode&&a()}function p(e){e.target.classList.contains("popup")&&!e.target.classList.contains("popup__content")&&a()}function a(){var e=document.querySelector(".popup_is-opened");e&&e.classList.remove("popup_is-opened")}function i(e){e.remove()}var d=document.querySelector(".places__list"),l=document.querySelector(".popup__input_type_name"),s=document.querySelector(".popup__input_type_description");function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=c(e,i);d.append(t)}));var m=document.querySelector(".profile__edit-button"),y=document.querySelector(".profile__add-button"),f=document.querySelectorAll(".popup__close"),v=document.querySelector("[name = edit-profile]"),S=document.querySelector("[name = new-place]");m.addEventListener("click",(function(){t.classList.add("popup_is-opened");var e=document.querySelector(".profile__title"),n=document.querySelector(".profile__description"),c=e.textContent,a=n.textContent;r.value=c,o.value=a,document.addEventListener("keydown",u),document.addEventListener("click",p)})),y.addEventListener("click",(function(){n.classList.add("popup_is-opened"),document.addEventListener("keydown",u),document.addEventListener("click",p)})),v.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".profile__title"),n=document.querySelector(".profile__description");t.textContent=l.value,n.textContent=s.value,a()})),S.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector(".popup__input_type_card-name"),n=c({link:document.querySelector(".popup__input_type_url").value,name:t.value},i);d.prepend(n),document.querySelector(".popup_type_new-card .popup__form").reset(),a()}));var k,q=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){p=!0,c=e},f:function(){try{u||null==n.return||n.return()}finally{if(p)throw c}}}}(f);try{for(q.s();!(k=q.n()).done;)k.value.addEventListener("click",a)}catch(e){q.e(e)}finally{q.f()}})();